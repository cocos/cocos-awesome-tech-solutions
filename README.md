# CococsCreator 技术方案分享

 技术方案来源自论坛、github 开源仓库、gitee 开源仓库、热心开发者、Cocos 引擎开发团队、cocos 技术支持团队。

---
*技术支持团队提供*

* (v3.4.0) 2D 光照

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_Light
  >
  > 素材来自: 
  >
  > https://www.codeandweb.com/blog/2015/05/12/lighting-demo-cocos2d-x    
  > https://github.com/CodeAndWeb/cocos2d-x-dynamic-lighting    

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211111/2021111101.gif)

  

*技术支持团队提供*

* (v3.4.0) 2D 阴影

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_ShadowMap
  >
  > 素材来自: 
  >
  > https://github.com/mattdesl/lwjgl-basics/wiki/2D-Pixel-Perfect-Shadows
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211111/2021111102.gif)



*技术支持团队提供*

* (v3.4.0) spine 使用非图集纹理进行局部换装

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_spine_changeSlot_with_texture
  >
  > 素材来自: 
  > 
  > https://blog.csdn.net/xjw532881071/article/details/107766975
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211111/2021111103.gif)



*Gitee用户(skyxu123 随风)提供，由技术支持团队升级至3.4.0版本并补充功能*

* (v3.4.0) 画板

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_DrawingBoard
  >
  > 素材来自: 
  >
  > https://gitee.com/skyxu123/drawing-board    
  > http://www.yini.org/liuyan/rgbcolor.htm
  > 
  > 切换画板
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112901.gif)
  >
  > 绘画
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112902.gif)
  >
  > 撤销
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112903.gif)
  >
  > 清屏
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112904.gif)
  >
  > 橡皮擦
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112905.gif)
  >
  > 渐变色画笔(初步)
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112906.gif)



*Github用户(zhangyizhang)提供，由技术支持团队升级至3.4.0版本*

* (v3.4.0) 3D 寻路

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_3D_Navigation
  >
  > 素材来自: 
  >
  > https://github.com/zhangyizhang/Extensions/tree/cocos/recastjs/demo
  > 
  > 添加障碍 (圆形障碍 & 方形障碍)
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112911.gif)
  > 
  > 添加角色 并寻路
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112912.gif)
  > 
  > 使用连接线 link 爬坡
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211129/2021112913.gif)



*Github用户(kirikayakazuto)提供，由技术支持团队升级至3.4.0版本*

* (v3.4.0) 图片分割

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_SpriteSplit
  >
  > 素材来自: 
  >
  > https://github.com/kirikayakazuto/CocosCreator_UIFrameWork/tree/SplitTexture/assets/Script/test    
  > https://forum.cocos.org/t/topic/103699
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211208/2021120801.gif)



*Github用户(shachaf、baibai2013、newGy、2van、waiter)提供，由技术支持团队升级至3.4.0版本*

* (v3.4.0) Gif图片资源加载

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_GifResourceLoading
  >
  > 素材来自: 
  >
  > https://github.com/shachaf/jsgif    
  > https://github.com/baibai2013/cocos-creator-gifLib    
  > https://github.com/newGy/cocos-creator-gif-2.4.4    
  > https://github.com/2van/cocos-creator-gif    
  > https://github.com/waiter/Cocos-GIF    
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211216/2021121601.gif)



*Github用户(caogtaa)提供，由技术支持团队升级至3.4.0版本*

* (v3.4.0) 2D 流体

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/main/demo/Creator3.4.0_2D_Fluids
  >
  > 素材来自: 
  >
  > https://github.com/caogtaa/CCTricks/tree/caogtaa/20200709_metaballs
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211216/2021121602.gif)




*技术支持团队提供*

* (v3.4.0) 动画指定帧播放

  - 骨骼动画
  >
  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_3D_SkeletalAnimationSpecifiedFrame
  >
  > 素材来自: 
  >
  > https://www.mixamo.com/#/?page=1&type=Character
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211228/2021122801.gif)

  - 龙骨动画
  >
  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_DragonBonesSpecifiedFrame
  
  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211228/2021122802.gif)

  - Spine动画
  >
  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_SpineSpecifiedFrame

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211228/2021122803.gif)



*技术支持团队提供*

* （v3.4.0）区域截图、截图保存

  > 工程 git 仓库地址: https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_PartialScreenshot

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20211228/2021122804.gif) 
 
  > 备注: 目前 3.0.0 ~ 3.4.0 版本还不支持 jsb.saveImageData , 引擎计划在 3.5.0 支持, 要保存 imageData 为本地 png 文件需要参考下方的 pr 定制引擎 https://gitee.com/zzf2019/engine-native/commit/1ddb6ec9627a8320cd3545d353d8861da33282a8 （此 pr 只支持保存 png ，且只支持 ios、android）
  > 
  > 3.4.0 也还存在一个 readPixels 的 bug ，记得手动合并下 pr : https://github.com/cocos-creator/engine/pull/9900/files



*网络游戏防沉迷实名认证系统 SDK 接入由 Github 用户(zihuyishi)提供，技术支持团队负责接入调试、实名认证客户端制作以及文档撰写*

* (v3.4.0) 实名认证接入

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_RealNameAuthentication
  >
  > 素材来自: 
  >
  > https://github.com/zihuyishi/realname-nppa-java-demo    
  > http://www.uustory.com/?p=2419    
  > https://wlc.nppa.gov.cn/fcm_company/index.html#/login?redirect=%2F    

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/image/20220110/2022011011.png)



*技术支持团队提供*

* (v3.4.0) 列表视图扩展

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_ListViewExtension

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20220119/2022011901.gif)
  
  > 备注: 因为目前在 Mac 平台的浏览器上存在帧率偏低以及帧率波动较大的问题，可以临时通过限制帧率`game.frameRate=61;`的方式来处理。



*技术支持团队提供*

* (v3.4.0) 3D 模型切割

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_3D_MeshCutter
  >
  > 素材来自:
  >
  > https://sketchfab.com/search?features=downloadable&licenses=322a749bcfa841b29dff1e8a1bb74b0b&licenses=b9ddc40b93e34cdca1fc152f39b9f375&licenses=72360ff1740d419791934298b8b6d270&licenses=bbfe3f7dbcdd4122b966b85b9786a989&licenses=2628dbe5140a4e9592126c8df566c0b7&licenses=34b725081a6a4184957efaec2cb84ed3&licenses=7c23a1ba438d4306920229c12afcb5f9&licenses=783b685da9bf457d81e829fa283f3567&licenses=5b54cf13b1a4422ca439696eb152070d&q=tag%3Afruit&sort_by=-likeCount&type=models

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20220120/2022012001.gif)
  
  > - 目前只支持切割使用了 builtin-unlit 材质的模型；
  > - 引擎模块需要使用基于 Bullet 的物理引擎；
  > - 材质设置 CullMode 为 None 能一定程度改善切割后 mesh 穿模的情况，但是性能会有所下降；
  > - 目前没有对旋转后的模型节点进行切割功能适配，所以需要确保模型的没有旋转；
  > - 目前方案的性能并不是最佳的；
  > - 目前方案默认在两点之间的检测精度是 1/256，在这个精度下过于细小的碎块则无法切割。可以通过增大 raycastCount 来提高精度，但是性能会有所下降；
  > - 不是所有模型节点切割后都不会穿模，这个和模型的原始 mesh 有关，具体啥原因还不清楚；
  > - 切割后的 meshCollider 碎块目前无法发生物理碰撞；



*Github用户(kirikayakazuto)提供，由技术支持团队升级至3.4.0版本*

* (v3.4.0) 自定义形状遮罩

  > 工程 git 仓库地址: 
  >
  > https://github.com/cocos-creator/CococsCreator-public-technology-solutions/tree/3.4.0-release/demo/Creator3.4.0_2D_Mask_Polygon
  >
  > 素材来自:
  >
  > https://github.com/kirikayakazuto/CocosCreator_UIFrameWork/tree/SplitTexture

  ![Image Text](https://github.com/cocos-creator/CococsCreator-public-technology-solutions/blob/3.4.0-release/gif/20220120/2022012002.gif)
